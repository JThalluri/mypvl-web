<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Video Libraries</title>
    
    <!-- PWA Essentials -->
    <link rel="manifest" href="/manifest.json?v=3">
    <meta name="theme-color" content="#1a1a1a">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f5f5;
            overflow: hidden;
        }
        
        /* App Header */
        .app-header {
            position: fixed;
            top: 0;
            width: 100%;
            background: #1a1a1a;
            color: white;
            z-index: 1000;
            padding: 10px 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            gap: 8px;
            height: 60px;
        }
        
        .app-logo {
            flex-shrink: 0;
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .app-logo img {
            width: 100%;
            height: 100%;
            border-radius: 8px;
            object-fit: contain;
        }
        
        .control-btn {
            background: #2d2d2d;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            transition: background 0.2s;
            flex-shrink: 0;
        }
        
        .control-btn:hover, .control-btn.active {
            background: #3d3d3d;
        }
        
        .social-links-container {
            display: flex;
            gap: 8px;
            flex-shrink: 0;
        }
        
        .social-links-container a {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #2d2d2d;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-decoration: none;
            transition: background 0.2s;
        }
        
        .social-links-container a:hover {
            background: #3d3d3d;
        }
        
        /* Client Frame */
        .client-frame {
            margin-top: 60px;
            width: 100%;
            height: calc(100vh - 60px);
            border: none;
            background: white;
        }
        
        /* Overlay Backdrop */
        .overlay-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 2000;
            display: none;
            animation: fadeIn 0.3s ease;
        }
        
        .overlay-backdrop.active {
            display: block;
        }
        
        /* Library Search Modal */
        .library-search-modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 500px;
            max-height: 80vh;
            background: white;
            border-radius: 15px;
            z-index: 2001;
            display: none;
            animation: slideUp 0.3s ease;
            overflow: hidden;
        }
        
        .library-search-modal.active {
            display: flex;
            flex-direction: column;
        }
        
        .search-modal-header {
            padding: 20px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: between;
            align-items: center;
        }
        
        .search-modal-header h2 {
            margin: 0;
            color: #1a1a1a;
            font-size: 1.5rem;
        }
        
        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: #666;
            cursor: pointer;
            padding: 5px;
        }
        
        .search-input-container {
            padding: 20px;
            position: relative;
        }
        
        .search-input-container .fa-magnifying-glass {
            position: absolute;
            left: 35px;
            top: 50%;
            transform: translateY(-50%);
            color: #666;
        }
        
        .search-input-container input {
            width: 100%;
            padding: 12px 20px 12px 45px;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            font-size: 16px;
            transition: border-color 0.2s;
        }
        
        .search-input-container input:focus {
            outline: none;
            border-color: #1a1a1a;
        }
        
        .search-results-container {
            flex: 1;
            overflow-y: auto;
            max-height: 300px;
        }
        
        .search-result-item {
            padding: 15px 20px;
            border-bottom: 1px solid #f0f0f0;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .search-result-item:hover {
            background: #f8f8f8;
        }
        
        .search-result-name {
            font-weight: bold;
            color: #1a1a1a;
            margin-bottom: 4px;
        }
        
        .search-result-desc {
            font-size: 14px;
            color: #666;
        }
        
        .recent-libraries {
            padding: 20px;
            border-top: 1px solid #eee;
        }
        
        .recent-libraries h3 {
            margin-bottom: 10px;
            color: #1a1a1a;
            font-size: 1.1rem;
        }
        
        /* App Menu Modal */
        .app-menu-modal {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-radius: 20px 20px 0 0;
            z-index: 2001;
            display: none;
            animation: slideUp 0.3s ease;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .app-menu-modal.active {
            display: block;
        }
        
        .menu-header {
            padding: 20px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .menu-content {
            padding: 10px 0;
        }
        
        .menu-section {
            padding: 0 20px 10px;
        }
        
        .menu-section h3 {
            margin: 15px 0 10px;
            color: #666;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .menu-item {
            display: block;
            padding: 12px 0;
            color: #1a1a1a;
            text-decoration: none;
            border-bottom: 1px solid #f0f0f0;
            transition: background 0.2s;
        }
        
        .menu-item:last-child {
            border-bottom: none;
        }
        
        .menu-item:hover {
            background: #f8f8f8;
        }
        
        /* Loading States */
        .loading-overlay {
            position: fixed;
            top: 60px;
            left: 0;
            width: 100%;
            height: calc(100vh - 60px);
            background: rgba(255,255,255,0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 999;
            display: none;
        }
        
        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #1a1a1a;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideUp {
            from { 
                opacity: 0;
                transform: translate(-50%, -40%);
            }
            to { 
                opacity: 1;
                transform: translate(-50%, -50%);
            }
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Mobile Optimizations */
        @media (max-width: 768px) {
            .app-header {
                padding: 8px 12px;
                gap: 6px;
            }
            
            .control-btn, .social-links-container a {
                width: 38px;
                height: 38px;
            }
            
            .library-search-modal {
                width: 95%;
                max-height: 85vh;
            }
        }
        
        @media (max-width: 380px) {
            .app-header {
                padding: 6px 10px;
                gap: 4px;
            }
            
            .control-btn, .social-links-container a {
                width: 36px;
                height: 36px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <!-- App Header -->
    <header class="app-header">
        <div class="app-logo">
            <img src="/icons/app-logo.png" alt="VideoLib">
        </div>
        
        <button class="control-btn" id="sidepaneToggle" title="Toggle Navigation">
            <i class="fa-solid fa-bars"></i>
        </button>
        
        <button class="control-btn" id="librarySearchTrigger" title="Search Libraries">
            <i class="fa-solid fa-search"></i>
        </button>
        
        <button class="control-btn" id="shareBtn" title="Share Library">
            <i class="fa-solid fa-share"></i>
        </button>
        
        <button class="control-btn" id="reloadBtn" title="Reload">
            <i class="fa-solid fa-rotate"></i>
        </button>
        
        <div class="social-links-container" id="socialLinksContainer"></div>
        
        <button class="control-btn" id="appMenuTrigger" title="Menu">
            <i class="fa-solid fa-ellipsis-vertical"></i>
        </button>
    </header>

    <!-- Client Content Area -->
    <iframe 
        id="clientFrame" 
        class="client-frame" 
        src="/QKNK9F/index.html"
        allowfullscreen
        allow="autoplay; encrypted-media">
    </iframe>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="spinner"></div>
    </div>

    <!-- Library Search Overlay -->
    <div class="overlay-backdrop" id="librarySearchBackdrop"></div>
    <div class="library-search-modal" id="librarySearchModal">
        <div class="search-modal-header">
            <h2>Search Libraries</h2>
            <button class="close-modal" id="closeLibrarySearch">
                <i class="fa-solid fa-times"></i>
            </button>
        </div>
        
        <div class="search-input-container">
            <i class="fa-solid fa-magnifying-glass"></i>
            <input type="text" id="librarySearchInput" placeholder="Search libraries by name, genre, or description..." autocomplete="off">
        </div>
        
        <div class="search-results-container" id="librarySearchResults">
            <!-- Results will appear here -->
        </div>
        
        <div class="recent-libraries" id="recentLibraries">
            <h3>Recently Viewed</h3>
            <!-- Recent libraries will appear here -->
        </div>
    </div>

    <!-- App Menu Overlay -->
    <div class="overlay-backdrop" id="appMenuBackdrop"></div>
    <div class="app-menu-modal" id="appMenuModal">
        <div class="menu-header">
            <h2>Menu</h2>
            <button class="close-modal" id="closeAppMenu">
                <i class="fa-solid fa-times"></i>
            </button>
        </div>
        
        <div class="menu-content">
            <div class="menu-section">
                <h3>Legal & Policies</h3>
                <a href="/privacy_policy.html" class="menu-item" target="_blank">Privacy Policy</a>
                <a href="/terms_of_use.html" class="menu-item" target="_blank">Terms of Use</a>
                <a href="/cookies_policy.html" class="menu-item" target="_blank">Cookies Policy</a>
                <a href="/dmca_policy.html" class="menu-item" target="_blank">DMCA Policy</a>
                <a href="/thirdparty_attributions.html" class="menu-item" target="_blank">Third Party Attributions</a>
            </div>
            
            <div class="menu-section">
                <h3>Support</h3>
                <a href="/contact_us.html" class="menu-item" target="_blank">Contact Us</a>
                <div class="menu-item" id="clearAppData">Clear App Data</div>
            </div>
        </div>
    </div>

    <script>
        class LibrarySearch {
            constructor() {
                this.libraryRegistry = [
                    {
                        id: 'QKNK9F',
                        path: '/QKNK9F/index.html',
                        name: 'Main Music Collection',
                        description: 'Complete music video library with various genres',
                        category: 'music',
                        keywords: ['main', 'music', 'videos', 'complete', 'all', 'primary']
                    },
                    {
                        id: 'EZKRY6', 
                        path: '/EZKRY6/index.html',
                        name: 'Instrumental Music',
                        description: 'Pure instrumental and background music',
                        category: 'music',
                        keywords: ['instrumental', 'music', 'no vocals', 'background', 'ambient']
                    },
                    {
                        id: 'BT9R66',
                        path: '/QKNK9F/BT9R66/index.html', 
                        name: 'Classical Music Library',
                        description: 'Traditional and classical performances',
                        category: 'classical',
                        keywords: ['classical', 'traditional', 'performance', 'orchestra', 'symphony']
                    },
                    {
                        id: 'K8AM96',
                        path: '/QKNK9F/K8AM96/index.html',
                        name: 'Modern Cover Songs',
                        description: 'Contemporary cover versions and remixes',
                        category: 'covers',
                        keywords: ['covers', 'modern', 'contemporary', 'remix', 'coversongs']
                    }
                ];
            }

            searchLibraries(query) {
                if (!query.trim()) return [];
                
                const searchTerm = query.toLowerCase().trim();
                
                return this.libraryRegistry.filter(lib => 
                    lib.name.toLowerCase().includes(searchTerm) ||
                    lib.description.toLowerCase().includes(searchTerm) ||
                    lib.keywords.some(keyword => keyword.includes(searchTerm)) ||
                    lib.id.toLowerCase().includes(searchTerm)
                );
            }

            getLibraryByPath(path) {
                return this.libraryRegistry.find(lib => lib.path === path);
            }
            
            getLibraryById(id) {
                return this.libraryRegistry.find(lib => lib.id === id);
            }
        }

        class PWAWrapper {
            constructor() {
                this.clientFrame = document.getElementById('clientFrame');
                this.loadingOverlay = document.getElementById('loadingOverlay');
                
                // Header elements
                this.sidepaneToggle = document.getElementById('sidepaneToggle');
                this.librarySearchTrigger = document.getElementById('librarySearchTrigger');
                this.shareBtn = document.getElementById('shareBtn');
                this.reloadBtn = document.getElementById('reloadBtn');
                this.socialLinksContainer = document.getElementById('socialLinksContainer');
                this.appMenuTrigger = document.getElementById('appMenuTrigger');
                
                // Modal elements
                this.librarySearchBackdrop = document.getElementById('librarySearchBackdrop');
                this.librarySearchModal = document.getElementById('librarySearchModal');
                this.librarySearchInput = document.getElementById('librarySearchInput');
                this.librarySearchResults = document.getElementById('librarySearchResults');
                this.closeLibrarySearch = document.getElementById('closeLibrarySearch');
                this.recentLibraries = document.getElementById('recentLibraries');
                
                this.appMenuBackdrop = document.getElementById('appMenuBackdrop');
                this.appMenuModal = document.getElementById('appMenuModal');
                this.closeAppMenu = document.getElementById('closeAppMenu');
                this.clearAppData = document.getElementById('clearAppData');
                
                this.init();
            }
            
            init() {
                this.search = new LibrarySearch();
                this.setupEventListeners();
                this.setupOnlineOfflineDetection();
                this.hideClientUI();
                this.loadRecentLibrary();
                this.updateRecentLibraries();
            }
            
            setupEventListeners() {
                // Header controls
                this.sidepaneToggle.addEventListener('click', () => this.toggleClientSidepane());
                this.librarySearchTrigger.addEventListener('click', () => this.showLibrarySearch());
                this.shareBtn.addEventListener('click', () => this.shareCurrentLibrary());
                this.reloadBtn.addEventListener('click', () => this.clientFrame.src = this.clientFrame.src);
                this.appMenuTrigger.addEventListener('click', () => this.showAppMenu());
                
                // Library search modal
                this.librarySearchInput.addEventListener('input', (e) => this.handleLibrarySearch(e.target.value));
                this.closeLibrarySearch.addEventListener('click', () => this.hideLibrarySearch());
                this.librarySearchBackdrop.addEventListener('click', () => this.hideLibrarySearch());
                
                // App menu modal
                this.closeAppMenu.addEventListener('click', () => this.hideAppMenu());
                this.appMenuBackdrop.addEventListener('click', () => this.hideAppMenu());
                this.clearAppData.addEventListener('click', () => this.clearAppDataHandler());
                
                // Frame events
                this.clientFrame.addEventListener('load', () => {
                    this.hideLoading();
                    this.saveRecentLibrary(this.clientFrame.src);
                    this.updateRecentLibraries();
                    this.hideClientUI();
                    this.extractSocialLinks();
                });
                
                this.clientFrame.addEventListener('loadstart', () => this.showLoading());
            }
            
            setupOnlineOfflineDetection() {
                window.addEventListener('online', () => {
                    console.log('PWA: Online');
                });
                
                window.addEventListener('offline', () => {
                    console.log('PWA: Offline');
                });
            }
            
            // Library Search functionality
            showLibrarySearch() {
                this.librarySearchBackdrop.classList.add('active');
                this.librarySearchModal.classList.add('active');
                this.librarySearchInput.focus();
                this.updateRecentLibraries();
            }
            
            hideLibrarySearch() {
                this.librarySearchBackdrop.classList.remove('active');
                this.librarySearchModal.classList.remove('active');
                this.librarySearchInput.value = '';
                this.librarySearchResults.innerHTML = '';
            }
            
            handleLibrarySearch(query) {
                const results = this.search.searchLibraries(query);
                this.displayLibrarySearchResults(results);
            }
            
            displayLibrarySearchResults(results) {
                if (results.length === 0) {
                    this.librarySearchResults.innerHTML = '<div class="search-result-item">No libraries found</div>';
                } else {
                    this.librarySearchResults.innerHTML = results.map(lib => `
                        <div class="search-result-item" data-path="${lib.path}">
                            <div class="search-result-name">${lib.name}</div>
                            <div class="search-result-desc">${lib.description}</div>
                        </div>
                    `).join('');
                    
                    this.librarySearchResults.querySelectorAll('.search-result-item').forEach(item => {
                        item.addEventListener('click', () => {
                            const path = item.getAttribute('data-path');
                            this.loadClient(path);
                            this.hideLibrarySearch();
                        });
                    });
                }
            }
            
            updateRecentLibraries() {
                try {
                    const recent = JSON.parse(localStorage.getItem('pwa_recent_libraries') || '[]');
                    const recentHtml = recent.slice(0, 3).map(path => {
                        const library = this.search.getLibraryByPath(path);
                        return library ? `
                            <div class="search-result-item" data-path="${library.path}">
                                <div class="search-result-name">${library.name}</div>
                                <div class="search-result-desc">${library.description}</div>
                            </div>
                        ` : '';
                    }).join('');
                    
                    this.recentLibraries.innerHTML = recentHtml ? `
                        <h3>Recently Viewed</h3>
                        ${recentHtml}
                    ` : '';
                    
                    // Add click handlers to recent libraries
                    this.recentLibraries.querySelectorAll('.search-result-item').forEach(item => {
                        item.addEventListener('click', () => {
                            const path = item.getAttribute('data-path');
                            this.loadClient(path);
                            this.hideLibrarySearch();
                        });
                    });
                } catch (error) {
                    console.log('PWA: Could not load recent libraries', error);
                }
            }
            
            // App Menu functionality
            showAppMenu() {
                this.appMenuBackdrop.classList.add('active');
                this.appMenuModal.classList.add('active');
            }
            
            hideAppMenu() {
                this.appMenuBackdrop.classList.remove('active');
                this.appMenuModal.classList.remove('active');
            }
            
            clearAppDataHandler() {
                if (confirm('Clear all app data? This will reset your recent libraries.')) {
                    localStorage.clear();
                    this.hideAppMenu();
                    alert('App data cleared successfully.');
                }
            }
            
            // Client Integration
            toggleClientSidepane() {
                try {
                    const iframeWindow = this.clientFrame.contentWindow;
                    if (iframeWindow && typeof iframeWindow.toggleSidepane === 'function') {
                        iframeWindow.toggleSidepane();
                    } else {
                        // Fallback: try to click the toggle button
                        const iframeDoc = this.clientFrame.contentDocument;
                        const toggleBtn = iframeDoc.getElementById('toggleBtn');
                        if (toggleBtn) toggleBtn.click();
                    }
                } catch (error) {
                    console.log('PWA: Could not toggle sidepane', error);
                }
            }
            
            hideClientUI() {
                this.clientFrame.addEventListener('load', () => {
                    try {
                        const iframeDoc = this.clientFrame.contentDocument;
                        const hideCSS = `
                            /* Hide only the main header/branding, not functional elements */
                            .brand-logo-container,
                            .page-header > img,
                            header > img,
                            .header-banner,
                            .site-branding {
                                display: none !important;
                            }
                            
                            /* Keep all functional elements visible */
                            .sidebar,
                            .sidepane,
                            .navigation,
                            .categories,
                            .mobile-clear-btn,
                            .search-bar,
                            .video-search,
                            [class*="search"]:not(.library-search),
                            .clear-filters-btn {
                                display: block !important;
                                visibility: visible !important;
                            }
                            
                            /* Hide footer in app mode */
                            footer,
                            .site-footer,
                            .page-footer {
                                display: none !important;
                            }
                            
                            /* Adjust content spacing */
                            .content, main, .page-content {
                                margin-top: 0 !important;
                                padding-top: 10px !important;
                            }
                        `;
                        const style = iframeDoc.createElement('style');
                        style.textContent = hideCSS;
                        iframeDoc.head.appendChild(style);
                    } catch (error) {
                        console.log('PWA: Could not adjust client UI');
                    }
                });
            }
            
            extractSocialLinks() {
                try {
                    const iframeDoc = this.clientFrame.contentDocument;
                    const socialContainer = iframeDoc.querySelector('.social-links-container');
                    
                    if (socialContainer && socialContainer.querySelector('a')) {
                        // Clear existing social links
                        this.socialLinksContainer.innerHTML = '';
                        
                        // Recreate each social link with proper attributes
                        const links = socialContainer.querySelectorAll('a');
                        links.forEach(link => {
                            const newLink = document.createElement('a');
                            newLink.href = link.href;
                            newLink.innerHTML = link.innerHTML;
                            newLink.target = '_blank';
                            newLink.rel = 'noopener noreferrer';
                            newLink.setAttribute('aria-label', link.getAttribute('aria-label') || 'Social media');
                            newLink.style.display = 'flex';
                            newLink.style.alignItems = 'center';
                            newLink.style.justifyContent = 'center';
                            newLink.style.width = '40px';
                            newLink.style.height = '40px';
                            newLink.style.borderRadius = '50%';
                            newLink.style.background = '#2d2d2d';
                            newLink.style.color = 'white';
                            newLink.style.textDecoration = 'none';
                            newLink.style.transition = 'background 0.2s';
                            
                            newLink.addEventListener('mouseenter', () => {
                                newLink.style.background = '#3d3d3d';
                            });
                            newLink.addEventListener('mouseleave', () => {
                                newLink.style.background = '#2d2d2d';
                            });
                            
                            this.socialLinksContainer.appendChild(newLink);
                        });
                        
                        // Hide original social links
                        socialContainer.style.display = 'none';
                    } else {
                        this.socialLinksContainer.innerHTML = '';
                    }
                } catch (error) {
                    console.log('PWA: Could not extract social links', error);
                }
            }
            
            // Client loading and state management
            loadClient(url) {
                this.showLoading();
                this.clientFrame.src = url;
            }
            
            showLoading() {
                this.loadingOverlay.style.display = 'flex';
            }
            
            hideLoading() {
                this.loadingOverlay.style.display = 'none';
            }
            
            async shareCurrentLibrary() {
                const currentUrl = this.clientFrame.src;
                const library = this.search.getLibraryByPath(new URL(currentUrl).pathname);
                const libraryName = library ? library.name : 'Music Video Library';
                
                const shareData = {
                    title: `Music Video Library - ${libraryName}`,
                    text: 'Check out this amazing music video collection!',
                    url: currentUrl,
                };
                
                try {
                    if (navigator.share) {
                        await navigator.share(shareData);
                    } else {
                        await navigator.clipboard.writeText(currentUrl);
                        alert('Library URL copied to clipboard!');
                    }
                } catch (error) {
                    console.log('PWA: Sharing cancelled', error);
                }
            }
            
            saveRecentLibrary(url) {
                try {
                    const recent = JSON.parse(localStorage.getItem('pwa_recent_libraries') || '[]');
                    const updated = [url, ...recent.filter(item => item !== url)].slice(0, 5);
                    localStorage.setItem('pwa_recent_libraries', JSON.stringify(updated));
                } catch (error) {
                    console.log('PWA: Could not save recent library', error);
                }
            }
            
            loadRecentLibrary() {
                try {
                    const recent = JSON.parse(localStorage.getItem('pwa_recent_libraries') || '[]');
                    if (recent.length > 0) {
                        this.clientFrame.src = recent[0];
                    }
                } catch (error) {
                    console.log('PWA: Could not load recent library', error);
                }
            }
        }
        
        // Initialize PWA when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            new PWAWrapper();
        });
        
        // Register service worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then((registration) => {
                        console.log('PWA: ServiceWorker registered');
                    })
                    .catch((error) => {
                        console.log('PWA: ServiceWorker registration failed');
                    });
            });
        }
    </script>
</body>
</html>